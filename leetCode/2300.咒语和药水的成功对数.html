<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2300. 咒语和药水的成功对数</title>
  </head>
  <body>
    <script src="../helper/common.js"></script>
    <script src="../helper/node.js"></script>
    <script src="../helper/tree.js"></script>
    <script src="../helper/graph.js"></script>
    <script src="../helper/command.js"></script>
    <script>
      // https://leetcode.cn/problems/successful-pairs-of-spells-and-potions/description/?envType=daily-question&envId=2025-10-08

      // 给你两个正整数数组 spells 和 potions ，长度分别为 n 和 m ，其中 spells[i] 表示第 i 个咒语的能量强度，potions[j] 表示第 j 瓶药水的能量强度。
      // 同时给你一个整数 success 。一个咒语和药水的能量强度 相乘 如果 大于等于 success ，那么它们视为一对 成功 的组合。
      // 请你返回一个长度为 n 的整数数组 pairs，其中 pairs[i] 是能跟第 i 个咒语成功组合的 药水 数目。
      //
      // 提示：
      // n == spells.length
      // m == potions.length
      // 1 <= n, m <= 105
      // 1 <= spells[i], potions[i] <= 105
      // 1 <= success <= 1010

      /**
       * @param {number[]} spells
       * @param {number[]} potions
       * @param {number} success
       * @return {number[]}
       */
      var successfulPairs = function (spells, potions, success) {};

      // --- answer-1 ---

      // 先给potions排序，然后对每个spell使用二分查找
      var successfulPairs = function (spells = [], potions = [], success = 0) {
        potions.sort((a, b) => a - b);
        const m = potions.length;
        const result = new Array(spells.length).fill(0);

        for (let i = 0; i < spells.length; i++) {
          const spell = spells[i];
          let left = 0;
          let right = m - 1;
          let index = m;

          while (left <= right) {
            const mid = left + Math.floor((right - left) / 2);
            if (spell * potions[mid] >= success) {
              index = mid;
              right = mid - 1;
            } else {
              left = mid + 1;
            }
          }

          result[i] = m - index;
        }

        return result;
      };

      // --- answer-1 ---

      // --- answer-2 ---

      // --- answer-2 ---

      var spells = [5, 1, 3],
        potions = [1, 2, 3, 4, 5],
        success = 7;
      var result = [4, 0, 3];
      // 解释：

      var spells = [3, 1, 2],
        potions = [8, 5, 8],
        success = 16;
      var result = [2, 0, 2];
      // 解释：

      console.log('spells = ', spells);
      console.log('potions = ', potions);
      console.log('success = ', success);
      console.log('result = ', result);
      console.log('successfulPairs = ', successfulPairs(spells, potions, success));
    </script>
  </body>
</html>
