<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2043. 简易银行系统</title>
  </head>
  <body>
    <script src="../helper/common.js"></script>
    <script src="../helper/node.js"></script>
    <script src="../helper/tree.js"></script>
    <script src="../helper/graph.js"></script>
    <script src="../helper/command.js"></script>
    <script>
      // https://leetcode.cn/problems/simple-bank-system/description/?envType=daily-question&envId=2025-10-26

      // 你的任务是为一个很受欢迎的银行设计一款程序，以自动化执行所有传入的交易（转账，存款和取款）。银行共有 n 个账户，编号从 1 到 n 。每个账号的初始余额存储在一个下标从 0 开始的整数数组 balance 中，其中第 (i + 1) 个账户的初始余额是 balance[i] 。
      // 请你执行所有 有效的 交易。如果满足下面全部条件，则交易 有效 ：
      //
      // 提示：
      // 指定的账户数量在 1 和 n 之间，且
      // 取款或者转账需要的钱的总数 小于或者等于 账户余额。
      // 实现 Bank 类：
      //
      // 提示：
      // Bank(long[] balance) 使用下标从 0 开始的整数数组 balance 初始化该对象。
      // boolean transfer(int account1, int account2, long money) 从编号为 account1 的账户向编号为 account2 的账户转帐 money 美元。如果交易成功，返回 true ，否则，返回 false 。
      // boolean deposit(int account, long money) 向编号为 account 的账户存款 money 美元。如果交易成功，返回 true ；否则，返回 false 。
      // boolean withdraw(int account, long money) 从编号为 account 的账户取款 money 美元。如果交易成功，返回 true ；否则，返回 false 。
      //
      // 提示：
      // n == balance.length
      // 1 <= n, account, account1, account2 <= 105
      // 0 <= balance[i], money <= 1012
      // transfer, deposit, withdraw 三个函数，每个 最多调用 104 次

      /**
       * @param {number[]} balance
       */
      var Bank = function (balance) {};
      /**
       * @param {number} account1
       * @param {number} account2
       * @param {number} money
       * @return {boolean}
       */
      Bank.prototype.transfer = function (account1, account2, money) {};
      /**
       * @param {number} account
       * @param {number} money
       * @return {boolean}
       */
      Bank.prototype.deposit = function (account, money) {};

      /**
       * @param {number} account
       * @param {number} money
       * @return {boolean}
       */
      Bank.prototype.withdraw = function (account, money) {};

      // --- answer-1 ---

      var Bank = function (balance) {
        this.balance = balance;
      };

      Bank.prototype.transfer = function (account1, account2, money) {
        const n = this.balance.length;
        if (account1 < 1 || account1 > n || account2 < 1 || account2 > n) {
          return false;
        }
        if (this.balance[account1 - 1] < money) {
          return false;
        }
        this.balance[account1 - 1] -= money;
        this.balance[account2 - 1] += money;
        return true;
      };

      Bank.prototype.deposit = function (account, money) {
        const n = this.balance.length;
        if (account < 1 || account > n) {
          return false;
        }
        this.balance[account - 1] += money;
        return true;
      };

      Bank.prototype.withdraw = function (account, money) {
        const n = this.balance.length;
        if (account < 1 || account > n) {
          return false;
        }
        if (this.balance[account - 1] < money) {
          return false;
        }
        this.balance[account - 1] -= money;
        return true;
      };

      // --- answer-1 ---

      // --- answer-2 ---

      // --- answer-2 ---

      // var balance = ;
      // ["Bank", "withdraw", "transfer", "deposit", "transfer", "withdraw"];
      // [[[10, 100, 20, 50, 30]], [3, 10], [5, 1, 20], [5, 20], [3, 4, 15], [10, 50]]

      console.log('balance = ', balance);
      console.log('account1  = ', account1);
      console.log('account2  = ', account2);
      console.log('money = ', money);
      console.log('account  = ', account);
      console.log('money = ', money);
      console.log('account  = ', account);
      console.log('result = ', result);
      console.log('Bank = ', Bank(balance, account1, account2, money, account, money, account));
    </script>
  </body>
</html>
